(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[9742],{26478:e=>{self,e.exports=(()=>{var e={271:function(e,t){var r,n;void 0===(n="function"==typeof(r=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r="boolean"==typeof(new RegExp).sticky;function n(e){return e&&"[object RegExp]"===t.call(e)}function o(e){return e&&"object"==typeof e&&!n(e)&&!Array.isArray(e)}function a(e){return"("+e+")"}function i(e){return e.length?"(?:"+e.map((function(e){return"(?:"+e+")"})).join("|")+")":"(?!)"}function l(e){if("string"==typeof e)return"(?:"+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(n(e)){if(e.ignoreCase)throw new Error("RegExp /i flag not allowed");if(e.global)throw new Error("RegExp /g flag is implied");if(e.sticky)throw new Error("RegExp /y flag is implied");if(e.multiline)throw new Error("RegExp /m flag is implied");return e.source}throw new Error("Not a pattern: "+e)}function c(t,r){if(o(r)||(r={match:r}),r.include)throw new Error("Matching rules cannot also include states");var a={defaultType:t,lineBreaks:!!r.error||!!r.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var i in r)e.call(r,i)&&(a[i]=r[i]);if("string"==typeof a.type&&t!==a.type)throw new Error("Type transform cannot be a string (type '"+a.type+"' for token '"+t+"')");var l=a.match;return a.match=Array.isArray(l)?l:l?[l]:[],a.match.sort((function(e,t){return n(e)&&n(t)?0:n(t)?-1:n(e)?1:t.length-e.length})),a}function s(e){return Array.isArray(e)?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n.include)for(var o=[].concat(n.include),a=0;a<o.length;a++)t.push({include:o[a]});else{if(!n.type)throw new Error("Rule has no type: "+JSON.stringify(n));t.push(c(n.type,n))}}return t}(e):function(e){for(var t=Object.getOwnPropertyNames(e),r=[],n=0;n<t.length;n++){var a=t[n],i=e[a],l=[].concat(i);if("include"!==a){var s=[];l.forEach((function(e){o(e)?(s.length&&r.push(c(a,s)),r.push(c(a,e)),s=[]):s.push(e)})),s.length&&r.push(c(a,s))}else for(var u=0;u<l.length;u++)r.push({include:l[u]})}return r}(e)}var u=c("error",{lineBreaks:!0,shouldThrow:!0});function p(e,t){for(var o=null,c=Object.create(null),s=!0,p=null,h=[],m=[],f=0;f<e.length;f++)e[f].fallback&&(s=!1);for(f=0;f<e.length;f++){var y=e[f];if(y.include)throw new Error("Inheritance is not allowed in stateless lexers");if(y.error||y.fallback){if(o)throw!y.fallback==!o.fallback?new Error("Multiple "+(y.fallback?"fallback":"error")+" rules not allowed (for token '"+y.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+y.defaultType+"')");o=y}var g=y.match.slice();if(s)for(;g.length&&"string"==typeof g[0]&&1===g[0].length;)c[g.shift().charCodeAt(0)]=y;if(y.pop||y.push||y.next){if(!t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+y.defaultType+"')");if(y.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+y.defaultType+"')")}if(0!==g.length){s=!1,h.push(y);for(var d=0;d<g.length;d++){var S=g[d];if(n(S))if(null===p)p=S.unicode;else if(p!==S.unicode&&!1===y.fallback)throw new Error("If one rule is /u then all must be")}var v=i(g.map(l)),b=new RegExp(v);if(b.test(""))throw new Error("RegExp matches empty string: "+b);if(new RegExp("|"+v).exec("").length-1>0)throw new Error("RegExp has capture groups: "+b+"\nUse (?: â€¦ ) instead");if(!y.lineBreaks&&b.test("\n"))throw new Error("Rule should declare lineBreaks: "+b);m.push(a(v))}}var k=o&&o.fallback,F=r&&!k?"ym":"gm",x=r||k?"":"|";return!0===p&&(F+="u"),{regexp:new RegExp(i(m)+x,F),groups:h,fast:c,error:o||u}}function h(e,t,r){var n=e&&(e.push||e.next);if(n&&!r[n])throw new Error("Missing state '"+n+"' (in token '"+e.defaultType+"' of state '"+t+"')");if(e&&e.pop&&1!=+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+t+"')")}var m=function(e,t){this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()};m.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedToken=t?t.queuedToken:null,this.queuedThrow=t?t.queuedThrow:null,this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},m.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},m.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.re=t.regexp,this.fast=t.fast}},m.prototype.popState=function(){this.setState(this.stack.pop())},m.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var f=r?function(e,t){return e.exec(t)}:function(e,t){var r=e.exec(t);return 0===r[0].length?null:r};function y(){return this.value}if(m.prototype._getGroup=function(e){for(var t=this.groups.length,r=0;r<t;r++)if(void 0!==e[r+1])return this.groups[r];throw new Error("Cannot find token type for matched text")},m.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var r=this.buffer;if(e!==r.length){if(i=this.fast[r.charCodeAt(e)])return this._token(i,r.charAt(e),e);var n=this.re;n.lastIndex=e;var o=f(n,r),a=this.error;if(null==o)return this._token(a,r.slice(e,r.length),e);var i=this._getGroup(o),l=o[0];return a.fallback&&o.index!==e?(this.queuedGroup=i,this.queuedText=l,this._token(a,r.slice(e,o.index),e)):this._token(i,l,e)}},m.prototype._token=function(e,t,r){var n=0;if(e.lineBreaks){var o=/\n/g,a=1;if("\n"===t)n=1;else for(;o.exec(t);)n++,a=o.lastIndex}var i={type:"function"==typeof e.type&&e.type(t)||e.defaultType,value:"function"==typeof e.value?e.value(t):t,text:t,toString:y,offset:r,lineBreaks:n,line:this.line,col:this.col},l=t.length;if(this.index+=l,this.line+=n,0!==n?this.col=l-a+1:this.col+=l,e.shouldThrow)throw new Error(this.formatError(i,"invalid syntax"));return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),i},"undefined"!=typeof Symbol&&Symbol.iterator){var g=function(e){this.lexer=e};g.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},g.prototype[Symbol.iterator]=function(){return this},m.prototype[Symbol.iterator]=function(){return new g(this)}}return m.prototype.formatError=function(e,t){if(null==e){var r=this.buffer.slice(this.index);e={text:r,offset:this.index,lineBreaks:-1===r.indexOf("\n")?0:1,line:this.line,col:this.col}}var n=Math.max(0,e.offset-e.col+1),o=e.lineBreaks?e.text.indexOf("\n"):e.text.length,a=this.buffer.substring(n,e.offset+o);return t+=" at line "+e.line+" col "+e.col+":\n\n",(t+="  "+a+"\n")+"  "+Array(e.col).join(" ")+"^"},m.prototype.clone=function(){return new m(this.states,this.state)},m.prototype.has=function(e){return!0},{compile:function(e){var t=p(s(e));return new m({start:t},"start")},states:function(e,t){var r=e.$all?s(e.$all):[];delete e.$all;var n=Object.getOwnPropertyNames(e);t||(t=n[0]);for(var o=Object.create(null),a=0;a<n.length;a++)o[v=n[a]]=s(e[v]).concat(r);for(a=0;a<n.length;a++)for(var i=o[v=n[a]],l=Object.create(null),c=0;c<i.length;c++){var u=i[c];if(u.include){var f=[c,1];if(u.include!==v&&!l[u.include]){l[u.include]=!0;var y=o[u.include];if(!y)throw new Error("Cannot include nonexistent state '"+u.include+"' (in state '"+v+"')");for(var g=0;g<y.length;g++){var d=y[g];-1===i.indexOf(d)&&f.push(d)}}i.splice.apply(i,f),c--}}var S=Object.create(null);for(a=0;a<n.length;a++){var v;S[v=n[a]]=p(o[v],!0)}for(a=0;a<n.length;a++){var b=n[a],k=S[b],F=k.groups;for(c=0;c<F.length;c++)h(F[c],b,S);var x=Object.getOwnPropertyNames(k.fast);for(c=0;c<x.length;c++)h(k.fast[x[c]],b,S)}return new m(S,t)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(e){for(var t=Object.create(null),r=Object.create(null),n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var a=n[o],i=e[a];(Array.isArray(i)?i:[i]).forEach((function(e){if((r[e.length]=r[e.length]||[]).push(e),"string"!=typeof e)throw new Error("keyword must be string (in keyword '"+a+"')");t[e]=a}))}function l(e){return JSON.stringify(e)}var c="";for(var s in c+="switch (value.length) {\n",r){var u=r[s];c+="case "+s+":\n",c+="switch (value) {\n",u.forEach((function(e){var r=t[e];c+="case "+l(e)+": return "+l(r)+"\n"})),c+="}\n"}return c+="}\n",Function("value",c)}}})?r.apply(t,[]):r)||(e.exports=n)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{default:()=>Re});var e=r(271),t=r.n(e);function o(e){return f(e)||s(e)||h(e)||p()}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return m(e)}(e)||s(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){return f(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||h(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){if(Array.isArray(e))return e}var y="(?:\r|\t|\f|\n| ){0,}",g="(?:\r|\t|\f|\n| ){1,}",d="[0-9]",S="}".concat(y,";"),v="".concat(d,"{1,}"),b="".concat(d,"{1,}(?:\\.").concat(d,"{0,}|)(?:k|M|G|)"),k="\\[".concat(y,"(?:@scale|@sd)").concat(y,"(?:>=|>)").concat(y).concat(b).concat(y,"\\]"),F="\\[".concat(y,"(?:@scale|@sd)").concat(y,"(?:<=|<)").concat(y).concat(b).concat(y,"\\]"),x="(?:-|)[_a-zA-Z]".concat("[\\-\\_a-zA-Z0-9]","{0,}"),w="#".concat(x,"(?:\\:").concat(x,"|)(?:\\.[^\\\"|\\'|\\[|\\]|\\r|\\t|\\f|\\n| ]{1,}|)"),E="mark|stroke|fill|symbol|shield|background",C=":(?:".concat(E,")"),z=":nth\\-(?:".concat(E,")\\(").concat(v,"\\)"),O="".concat(x,"(?:\\:").concat(x,"|)"),P=O,R="\\'[^\\\"|\\'|\\[|\\]]{0,}\\'",j="\\[(?:".concat(R,"|").concat('\\"[^\\"|\\\'|\\[|\\]]{0,}\\"',"|[^\\\"|\\'|\\[|\\]]{0,}){1,}\\]"),G="(?:".concat("\\/\\*[^\\*\\/]*?\\*\\/","|").concat(g,"){0,}"),M="(?:\\*|"+k+"|"+F+"|"+w+"|"+C+"|"+z+"|"+P+"|"+j+")",T="".concat(M,"(?:").concat(y).concat(M,"|").concat(y).concat("\\,").concat(y).concat(M,"){0,}"),N="[a-zA-Z0-9-\\._\\]\\:\\/\\?\\#\\[\\]\\@\\|\\$\\&'\\*\\+\\,\\;\\=]{1,}",L="(?:"+"\\'".concat(N,"\\'")+"|"+N+")",_="url".concat(y,"\\(").concat(y).concat(L).concat(y,"\\)"),I="symbol".concat(y,"\\(").concat(y).concat(L).concat(y,"\\)"),$="[a-fA-F0-9]",A="#(?:".concat($).concat($).concat($).concat($).concat($).concat($,"|").concat($).concat($).concat($,")"),D="".concat(d,"{1,}(?:\\.").concat(d,"{0,}|)(?:k|M|G|px|m|ft|%|deg|)"),W="\\[".concat(y,"[^\\[;]*?").concat(y,"\\]"),q="@".concat(x),B="(?:none|"+A+"|"+D+"|\\'.*?\\'|"+q+")",K="(?:none|"+"".concat(O).concat(y,"\\(").concat(y).concat(B,"(?:").concat(y,",").concat(y).concat(B).concat(y,"){0,}").concat(y,"\\)")+"|"+A+"|"+D+"|\\'.*?\\'|"+q+")",V="".concat(O).concat(y,"\\(").concat(y).concat(K,"(?:").concat(y,",").concat(y).concat(K).concat(y,"){0,}").concat(y,"\\)"),U="\\'[^;\\'\\[\\]]*?\\'",H="(?:".concat(W,"|").concat(U,"){1,}"),X="(?:none|"+_+"|"+I+"|"+V+"|"+A+"|"+D+"|"+x+"|"+q+"|"+H+"|"+W+")",Z="".concat(X,"(?:").concat(g).concat(X,"){1,}"),J="(?:"+X+"|"+Z+")",Y=""+G+x+"(?:\r|\t|\f|\n| ){0,}:"+y+J+"(?:\r|\t|\f|\n| ){0,}(?:,"+y+J+"){0,};",Q="@(?:mode|styleTitle|styleAbstract)".concat(g).concat(R,";"),ee="".concat(g,"(?:in|IN|not in|NOT IN|is|IS|like|ilike|LIKE|ILIKE|\\=|\\>|\\>\\=|\\<|\\<\\=|\\<\\>)").concat(g);function te(e){if(e.match(/'/g))return e.replace(new RegExp("\\'([^\\\"|\\'|\\[|\\]]{0,})\\'","g"),"$1");var t=parseFloat(e);if(!isNaN(t))return t;var r=e.trim();return"true"===r||"false"===r?["bool",r]:r}function re(e,t){if(e.match(new RegExp(Z))){var r=e.match(new RegExp(X,"g"));return["array"].concat(c(r.map((function(e){return re(e)}))))}if(e.match(new RegExp(_)))return["url",e.replace(new RegExp("url".concat(y,"\\(").concat(y,"(").concat(L,")").concat(y,"\\)"),"g"),"$1").replace(/'(.*?)'/g,"$1")];if(e.match(new RegExp(I)))return["symbol",e.replace(new RegExp("symbol".concat(y,"\\(").concat(y,"(").concat(L,")").concat(y,"\\)"),"g"),"$1").replace(/'(.*?)'/g,"$1")];if(e.match(new RegExp(W))&&"label"!==t){var n,o=e.replace(new RegExp("\\[".concat(y,"([^\\[;]*?)").concat(y,"\\]"),"g"),"$1"),a=null===(n=o.match(new RegExp("".concat(J,"(?:").concat(g,"(\\*|\\/|\\+|\\-)").concat(g).concat(J,"){0,}"))))||void 0===n?void 0:n[1],i=o.match(new RegExp(J,"g"));return a?["brace",[a,re(null==i?void 0:i[0]),re(null==i?void 0:i[1])]]:["brace",re(i[0])]}if(e.match(new RegExp(V))){var l,s=null===(l=e.match(O))||void 0===l?void 0:l[0],u=e.replace(s,"").match(new RegExp(K,"g"));return[s].concat(c(u.map((function(e){return re(e)}))))}if(e.match(new RegExp(H))){var p=e.match(new RegExp("".concat(W,"|").concat(U),"g")).map((function(e){return e.match(new RegExp(U))&&!e.match(new RegExp(W))?e.replace(/'([^;'[\]]*?)'/,"$1"):re(e)}));return 1===p.length?p[0]:["text"].concat(c(p))}if(e.match(new RegExp(A)))return["hex",e];if(e.match(new RegExp(D))){var h,m=parseFloat(e.replace(/k|M|G|px|m|ft|%|deg/g,"")),f=null===(h=e.match(/(?:k|M|G|px|m|ft|%|deg)/g))||void 0===h?void 0:h[0];return f?["measure",m,f]:m}return e.match(new RegExp(x))?["get",e]:e}var ne=t().compile({directive:{match:new RegExp(Q),value:function(e){return{key:e.match(/@(:?mode|styleTitle|styleAbstract)/)[0],value:e.match(/'.*?'/)[0].replace(/'(.*?)'/g,"$1")}}},whitespace:{match:new RegExp(g),lineBreaks:!0,value:function(e){return{value:e}}},property:{match:new RegExp(Y),value:function(e){var t=e.match(new RegExp(G))[0].trim(),r=e.match(new RegExp(x+y+":"))[0].replace(/:/,"").trim(),n=e.replace(new RegExp(G),"").replace(new RegExp(x+y+":"),"").match(new RegExp("".concat(X,"(?:").concat(g).concat(X,"){0,}"),"g")).map((function(e){return re(e,r)}));return{comment:t,key:r,value:n}}},openBrace:{match:new RegExp("{"),value:function(e){return{value:e}}},closeBraceSemicolon:{match:new RegExp(S),value:function(e){return{value:e}}},closeBrace:{match:new RegExp("}"),value:function(e){return{value:e}}},selector:{match:new RegExp(G+T),value:function(e){var t,r,n,o,a,i,l=e.match(new RegExp(G))[0].trim(),s=null==l||null===(t=l.match(new RegExp("@title".concat(y,"(\\:){0,1}").concat(y,".*?\\*\\/"))))||void 0===t||null===(r=t[0])||void 0===r||null===(n=r.replace(new RegExp("@title".concat(y,"(\\:){0,1}|\\*\\/"),"g"),""))||void 0===n?void 0:n.trim(),p=null==l||null===(o=l.match(new RegExp("@source".concat(y,"(\\:){0,1}").concat(y,".*?\\*\\/"))))||void 0===o||null===(a=o[0])||void 0===a||null===(i=a.replace(new RegExp("@source".concat(y,"(\\:){0,1}|\\*\\/"),"g"),""))||void 0===i?void 0:i.trim(),h=e.replace(new RegExp(G),"").split(new RegExp("\\]".concat(y,",").concat(y,"\\["),"g"));return{source:p,title:s,comment:l,value:h.map((function(e,t){return 0===t?e+"]":t===h.length-1?"["+e:"["+e+"]"})).map((function(e){return e.match(new RegExp(M,"g")).map((function(e){return function(e){if(e.match(new RegExp("\\*"))&&!e.match(new RegExp(j)))return{value:e,type:"allSelector"};if(e.match(new RegExp(k))){var t,r,n=null===(t=e.match(/>=|>/g))||void 0===t?void 0:t[0],o=u(e.replace(/\[|\]/g,"").split(new RegExp("".concat(y,"(?:>=|>)").concat(y))),2),a=o[0],i=o[1],l=parseFloat(i.replace(/k|M|G/g,"")),s=null===(r=i.match(/(?:k|M|G)/g))||void 0===r?void 0:r[0];return{value:e,type:"minScaleSelector",expression:[n,["get",a],s?["measure",l,s]:l]}}if(e.match(new RegExp(F))){var p,h,m=null===(p=e.match(/<=|</g))||void 0===p?void 0:p[0],f=u(e.replace(/\[|\]/g,"").split(new RegExp("".concat(y,"(?:<=|<)").concat(y))),2),d=f[0],S=f[1],v=parseFloat(S.replace(/k|M|G/g,"")),b=null===(h=S.match(/(?:k|M|G)/g))||void 0===h?void 0:h[0];return{value:e,type:"maxScaleSelector",expression:[m,["get",d],b?["measure",v,b]:v]}}if(e.match(new RegExp(w)))return{value:e,type:"idSelector"};if(e.match(new RegExp(C)))return{value:e,type:"pseudoClassSelector"};if(e.match(new RegExp(z)))return{value:e,type:"numberedPseudoClassSelector"};if(e.match(new RegExp(j))){var x={"=":"==",">":">",">=":">=","<":"<","<=":"<=","<>":"!=",like:"like",ilike:"ilike",LIKE:"like",ILIKE:"ilike"},E="".concat(g,"(?:or|OR)").concat(g),O="".concat(g,"(?:and|AND)").concat(g),R=e.match(new RegExp(E,"g"))&&"any",G=e.match(new RegExp(O,"g"))&&"all";if(R&&G)throw new Error("or and operators");var M=R?E:O,T=e.replace(/\[|\]/g,"").split(new RegExp(M,"g")).map((function(t){var r,n,o,a=new RegExp(ee),i=null===(r=t.match(a))||void 0===r||null===(n=r[0])||void 0===n||null===(o=n.trim)||void 0===o?void 0:o.call(n),l=t.split(new RegExp(ee));if(x[i])return[x[i],["get",l[0]],te(l[1])];if(!("is"!==i&&"IS"!==i||"null"!==l[1]&&"NULL"!==l[1]))return["isnull",["get",l[0]]];if("in"===i||"not in"===i||"IN"===i||"NOT IN"===i){var c=l[1].replace(/\(|\)/g,"").split(",").map((function(e){return te(e.trim())})),s=["in",["get",l[0]],["literal",c]];return"not in"===i||"NOT IN"===i?["!",s]:s}throw new Error("\n                operator not supported in selector: ".concat(e,"\n                supported operators: ").concat(Object.keys(x).join(" ")))}));return{value:e,expression:T.length>1?[R||G].concat(c(T)):T[0],type:"eCQLSelector"}}return e.match(new RegExp(P))?{value:e,type:"typeNameSelector"}:{value:e,type:"basicSelector"}}(e)}))}))}}}});function oe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}}function ae(e){return ne.reset(e),Array.from(ne)}function ie(e){return e.map((function(e){var t=e.type,r=e.value,n=e.line,o=e.col,a=e.text;return i(i({},r),{},{type:t,line:n,col:o,text:a})}))}var le=["typeNameSelector"];function ce(e){var t=["pseudoClassSelector","numberedPseudoClassSelector","allSelector","typeNameSelector"];return e.filter((function(e){return"selector"===e.type})).forEach((function(e){var r=e.value,n=e.line,o=e.col,a=e.text,i=e.level,l=r.map((function(e){return e.map((function(e){return e.type}))})).reduce((function(e,t){return[].concat(c(e),c(t))}));if(l.length>1&&l.find((function(e){return-1!==t.indexOf(e)})))throw{line:n,col:o,text:a};if(1===l.length&&-1!==le.indexOf(l[0])&&1!==i)throw{line:n,col:o,text:a}})),e}function se(e){var t=0,r=0,n=0,o=0;return e.filter((function(e){var t=e.type;return"whitespace"!==t&&"directive"!==t})).map((function(e){r=t;var a=(e||{}).type;"openBrace"===a&&(t++,o++),"closeBrace"!==a&&"closeBraceSemicolon"!==a||t--;var l="selector"===a||"closeBrace"===a||"closeBraceSemicolon"===a?t+1:t,c=n;return 1===r&&1===l&&"closeBrace"===a&&(n++,o=0,c=n-1),i(i(i({},e),"selector"===a&&{rule:o}),{},{level:l,group:c})}))}function ue(e){var t=e.reduce((function(e,t){var r="".concat(t.group,":").concat(t.level);return i(i({},e),{},l({},r,e[r]?[].concat(c(e[r]),[t]):[t]))}),{});return Object.keys(t).map((function(e){return t[e].reduce((function(e,t){if(e.length>0){var r=e.filter((function(t,r){return r<e.length-1})),n=[].concat(c(e[e.length-1]),[t]);return[].concat(c(r),[n],c("closeBrace"===t.type||"closeBraceSemicolon"===t.type?[[]]:[]))}return[[t]]}),[])}))}function pe(e){return e.reduce((function(e,t){return[].concat(c(e),c(t.filter((function(e){return e.length>0})).map((function(e){return e.map((function(t){return i(i({},t),{},{rule:e[0].rule})}))}))))}),[])}function he(e){return c(e).sort((function(e,t){return e[0].group===t[0].group?e[0].rule>t[0].rule?1:-1:e[0].group>t[0].group?1:-1}))}function me(e){return e.map((function(e){var t=e.find((function(e){return"selector"===e.type}))||{},r=t.title,n=t.value,o=t.level,a=t.group,c=t.rule,s=e.filter((function(e){return"property"===e.type})).reduce((function(e,t){return i(i({},e),{},l({},t.key,t.value))}),{});return i(i({},r&&{title:r}),{},{selector:n,properties:s,level:o,group:a,rule:c})}))}function fe(e){return e.map((function(t,r){var n=t.level,o=t.group;if(1===n)return t;var a=[].concat(c(e.filter((function(e,t){return t<r&&e.group===o&&e.level<n}))),[t]);return 1===a.length?t:i(i({},t),{},{activeRules:a})}))}function ye(e){return e&&1===e.length&&1===e[0].length&&e[0][0]||{}}function ge(e){var t=e.reduce((function(e,t){var r=t.level,n=t.group,o=t.rule,a=t.activeRules,c=t.selector,s=t.properties;if(!a)return e;if("pseudoClassSelector"===ye(c).type||"numberedPseudoClassSelector"===ye(c).type){var u,p=a[a.length-2],h=p.level,m=p.group,f=p.rule;return i(i({},e),{},(l(u={},"".concat(r,":").concat(n,":").concat(o),"remove"),l(u,"".concat(h,":").concat(m,":").concat(f),i(i({},e["".concat(h,":").concat(m,":").concat(f)]),{},l({},c[0][0].value,s))),u))}return e}),{});return e.filter((function(e){var r=e.level,n=e.group,o=e.rule;return"remove"!==t["".concat(r,":").concat(n,":").concat(o)]})).map((function(e){var r=e.level,n=e.group,o=e.properties,a=e.rule;return t["".concat(r,":").concat(n,":").concat(a)]?i(i({},e),{},{properties:i(i({},o),t["".concat(r,":").concat(n,":").concat(a)])}):e}))}function de(e){return e.map((function(e){var t=e.activeRules;if(!t)return e;var r=(t.find((function(e){return"typeNameSelector"===ye(e.selector).type}))||{}).selector,n=ye(r).value;return i(i({},e),{},{layer:n,activeRules:t.filter((function(e){return"typeNameSelector"!==ye(e.selector).type}))})}))}function Se(e){return e.map((function(e){var t=e.activeRules,r=e.layer;if(!t){var n=e.selector,o=e.properties,a=e.title;return i(i(i({},a&&{title:a}),r&&{layer:r}),{},{selector:n,properties:o})}var l=t.map((function(e){return e.selector})).reduce((function(e,t){var r=[];return e.forEach((function(e){t.forEach((function(t){r.push([].concat(c(e),c(t)))}))})),r})),s=t.map((function(e){return e.properties})).reduce((function(e,t){return i(i({},e),t)})),u=t.map((function(e){return e.title})).reduce((function(e,t){return[].concat(c(e),c(t&&[t]||[]))}),[]).join(", ");return i(i(i({},u&&{title:u}),r&&{layer:r}),{},{selector:l,properties:s})}))}function ve(e){return e.reduce((function(e,t){var r=function(e){return e.reduce((function(e,t,r){var n,o,a=t.filter((function(e){return"minScaleSelector"===e.type})),s=t.filter((function(e){return"maxScaleSelector"===e.type})),u=[a[a.length-1],s[s.length-1]],p="".concat((null==u||null===(n=u[0])||void 0===n?void 0:n.value)||"").concat((null==u||null===(o=u[1])||void 0===o?void 0:o.value)||"")||"noScale";return e[p]?i(i({},e),{},l({},p,{selectorIndex:[].concat(c(e[p].selectorIndex),[r]),scales:u})):i(i({},e),{},l({},p,{selectorIndex:[r],scales:u}))}),{})}(t.selector),n=t.selector.map((function(e){return e.filter((function(e){var t=e.type;return!("minScaleSelector"===t||"maxScaleSelector"===t)}))})),o=n.map((function(e){return e.map((function(e){return e.type}))})).reduce((function(e,t){return[].concat(c(e),c(t))}));return[].concat(c(e),c(Object.keys(r).map((function(e){var a,l,s=r[e],u=s.selectorIndex,p=void 0===u?[]:u,h=s.scales,m=null===(a=h[0])||void 0===a?void 0:a.expression,f=null===(l=h[1])||void 0===l?void 0:l.expression,y=1===o.length&&"allSelector"===o[0];return i(i(i({},t),{},{selector:y?"*":["any"].concat(c(n.filter((function(e,t){return-1!==p.indexOf(t)})).map((function(e){return["all"].concat(c(e.map((function(e){return null==e?void 0:e.expression}))))}))))},m&&{"min-scale":m}),f&&{"max-scale":f})}))))}),[])}function be(e){return e.filter((function(e){var t=e.properties;return Object.keys(t).length>0}))}function ke(e,t){return Object.keys(e).reduce((function(r,n){return i(i({},r),{},l({},n,void 0===e[n][t]?e[n][0]:e[n][t]))}),{})}function Fe(e){var t=0;return e.reduce((function(e,r){t++;var n=Object.keys(null==r?void 0:r.properties),o=Math.max.apply(null,n.filter((function(e){return!e.match(new RegExp("(?:".concat(C,"|").concat(z,")")))})).map((function(e){var t,n;return null==r||null===(t=r.properties)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.length})).filter((function(e){return e}))),a=Object.keys(c(new Array(o))).map((function(e){return n.reduce((function(t,n){var o,a;if(n.match(new RegExp(C)))return i(i({},t),{},l({},n,ke(null==r||null===(a=r.properties)||void 0===a?void 0:a[n],e)));if(n.match(new RegExp(z))){var c,s=n.match(new RegExp(":nth\\-((?:".concat(E,"))\\((").concat(v,")\\)"))),u=null==s?void 0:s[1],p=null==s?void 0:s[2];return i(i({},t),void 0!==p&&parseFloat(p)-1+""===e&&l({},":".concat(u),ke(null==r||null===(c=r.properties)||void 0===c?void 0:c[n],e)))}var h=null!==(o=null==r?void 0:r.properties[n][e])&&void 0!==o?o:null==r?void 0:r.properties[n][0];return i(i({},t),null!=h&&l({},n,h))}),{})}));return[].concat(c(e),c(a.map((function(e){return i(i({},r),{},{properties:e,group:t})}))))}),[])}function xe(e,t){if(void 0!==e){if("string"==typeof e||e instanceof String)return"'".concat(e,"'");if(!isNaN(e))return e;var r=o(e),n=r[0],a=r.slice(1);switch(n){case"+":case"-":case"*":case"/":return"".concat(xe(a[0])," ").concat(n," ").concat(xe(a[1]));case"any":return a.map((function(e){return xe(e)})).join(" or ");case"all":return a.map((function(e){return xe(e)})).join(" and ");case"isnull":return xe(a[0])+" is null";case">":case"<":case">=":case"<=":case"!=":case"==":case"like":case"ilike":return xe(a[0])+" "+{"==":"=",">":">",">=":">=","<":"<","<=":"<=","!=":"<>",like:"like",ilike:"ilike",LIKE:"like",ILIKE:"ilike"}[n]+" "+xe(a[1]);case"!":return xe(a[0],{prefix:"not "});case"in":return xe(a[0])+" "+((null==t?void 0:t.prefix)||"")+"in ("+a.filter((function(e,t){return t>0})).map((function(e){return xe(e)})).join("")+")";case"bool":case"get":case"hex":return a[0];case"literal":return a[0].map((function(e){return xe(e)})).join(", ");case"measure":return"".concat(a[0]).concat(a[1]||"");case"recode":case"categorize":case"interpolate":case"color-map-entry":case"env":return"".concat(n,"(").concat(a.map((function(e){return xe(e)})).join(", "),")");case"url":case"symbol":return"".concat(n,"('").concat(a[0],"')");case"brace":return"[".concat(a.map((function(e){return xe(e)})),"]");case"array":return a.map((function(e){return xe(e)})).join(" ");case"text":return a.map((function(e){return xe(e)})).join("");default:return e}}}function we(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],o=t[t.length-1]||{},a=o.group;void 0!==a&&a===n.group?t[t.length-1]=i(i({},o),{},{properties:[].concat(c(Array.isArray(o.properties)?o.properties:[o.properties]),[n.properties])}):t.push(n)}return t}function Ee(e,t){if(t){var r=Array.isArray(e)?e:[e];return Object.keys(r[0]).reduce((function(e,t){return i(i({},e),{},l({},t,Ee(r.map((function(e){return e[t]})))))}),{})}var n=e.filter((function(e){return null!=e}));return 1===n.length||n.every((function(e,t,r){return e===r[0]}))?n[0]:n.join(", ")}function Ce(e){return(e||[]).map((function(e){var t=(null==e?void 0:e["min-scale"])&&xe(e["min-scale"]),r=(null==e?void 0:e["max-scale"])&&xe(e["max-scale"]),n=Array.isArray(e.properties)?e.properties:[e.properties],a=Object.keys(n[0]),s=function(e){if("*"===e)return"*";var t=o(e),r=t[0],n=t.slice(1);if("any"!==r&&"all"!==r)return["any",["all",e]];if("all"===r)return["any",e];if("any"===r){var a=n.map((function(e){return"all"!==e[0]?["all",e]:e}));return["any"].concat(c(a))}return"*"}(e.selector);return i(i(i({},(null==e?void 0:e.title)&&{title:"/* @title ".concat(e.title," */")}),(null==e?void 0:e.layer)&&{layer:e.layer}),{},{selector:"any"===(null==s?void 0:s[0])?s.filter((function(e,t){return t>0})).map((function(e){return[].concat(c(e.filter((function(e,t){return t>0})).map((function(e){return"["+xe(e)+"]"}))),c(t&&["["+t+"]"]||[]),c(r&&["["+r+"]"]||[]))})):s,properties:a.reduce((function(e,t){return t.match(new RegExp("(?:".concat(C,"|").concat(z,")")))?i(i({},e),{},l({},t,Ee(n.map((function(e){return Object.keys(e[t]).reduce((function(r,n){return i(i({},r),{},l({},n,xe(e[t][n])))}),{})})),!0))):i(i({},e),{},l({},t,Ee(n.map((function(e){return xe(e[t])})))))}),{})})}))}function ze(e){return e.map((function(e){return e.layer})).reduce((function(t,r,n){var o;if(void 0===r)return[].concat(c(t),[e[n]]);var a=null===(o=t[t.length-1])||void 0===o?void 0:o.layer;return void 0!==a&&a===r?[].concat(c(t.filter((function(e,r){return r<t.length-1}))),[{layer:r,rules:[].concat(c(t[t.length-1].rules),[e[n]])}]):[].concat(c(t),[{layer:r,rules:[e[n]]}])}),[])}function Oe(e,t){var r=(null==t?void 0:t.baseTab)||"",n=(null==t?void 0:t.tab)||"  ",o=(null==e?void 0:e.title)&&(null==e?void 0:e.title)+"\n"||"",a=(null==e?void 0:e.selector)?"*"===e.selector?"*":e.selector.map((function(e){return r+e.join("\n")})).join(",\n"):"",i=Object.keys(null==e?void 0:e.properties).reduce((function(t,o){if(o.match(new RegExp("(?:".concat(C,"|").concat(z,")")))){var a=Object.keys(e.properties[o]).reduce((function(t,a){return t+r+n+n+a+": "+e.properties[o][a]+";\n"}),"");return t+r+n+o+" {\n"+a+r+n+"};\n"}return t+r+n+o+": "+e.properties[o]+";\n"}),"");return r+o+a+" {\n"+i+r+"}\n"}function Pe(e){var t="  ";return e.reduce((function(e,r){return r.layer&&r.rules?e+r.layer+" {\n"+r.rules.map((function(e){return Oe(e,{tab:t,baseTab:t})})).join("")+"}\n":e+Oe(r,{tab:t})}),"")}const Re={read:function(e){var t=oe(ae,ie)(e);return{directive:t.filter((function(e){return"directive"===e.type})).reduce((function(e,t){var r=t.key,n=t.value;return i(i({},e),{},l({},r,n))}),{}),rules:oe(se,ce,ue,pe,he,me,fe,ge,de,Se,ve,be,Fe)(t)}},write:function(e){return Object.keys(null==e?void 0:e.directive).reduce((function(t,r){return t+r+" '"+e.directive[r]+"';\n"}),"")+"\n"+oe(we,Ce,ze,Pe)(null==e?void 0:e.rules)}}})(),n})()},9138:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,o++)n[o]=a[i];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.GeoCSSStyleParser=void 0;var i=r(26478).default,l=r(9626),c=r(80643),s=r(82920),u=r(77263),p=r(31476),h=r(90346),m=r(37153),f=r(50542),y=function(){function e(){this.title="GeoCSS Style Parser",this.warnings=[],this.getFisrtValidPesudoselector=function(e,t){return(f(t,(function(t){return!s(t[e])}))||{})[e]||{}}}return e.prototype.addWarning=function(e){this.warnings.push(e)},e.prototype.getWarnings=function(){return a(this.warnings)},e.prototype.readExpression=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return e;if(!isNaN(e))return e;var t=e[0],r=e.slice(1);switch(t){case"array":return r;case"get":case"hex":case"symbol":case"url":return r[0];case"bool":return"true"===r[0];default:return e}},e.prototype.readSelectorsExpression=function(t){var r=this;if(t){var n=t[0],o=t.slice(1);switch(n){case"any":case"all":var i=e.combinationMap[n];return a([i],o.map((function(e){return r.readSelectorsExpression(e)})));case">":case"<":case">=":case"<=":case"!=":case"==":case"like":case"ilike":return[e.comparisonMap[n],this.readExpression(o[0]),this.readExpression(o[1])];case"isnull":return["==",this.readExpression(o[0]),null];default:return}}},e.prototype.getFilterFromSelectors=function(e){var t=this.readSelectorsExpression(e);if(t)return"||"!==t[0]&&"&&"!==t[0]||2!==t.length?t:t[1]},e.prototype.getScaleDenominatorFromSelectors=function(e){var t=e&&this.readExpression(e["min-scale"]),r=e&&this.readExpression(e["max-scale"]),o=!s(t)&&{min:t[2]},a=!s(r)&&{max:r[2]};return o||a?n(n({},o),a):void 0},e.prototype.getMarkSymbolizerFromGeoCSSRule=function(e){var t,r=this.readExpression(e.mark);switch(r){case"circle":case"square":case"triangle":case"star":case"cross":case"x":t=r.charAt(0).toUpperCase()+r.slice(1);break;case"shape://vertline":case"shape://horline":case"shape://slash":case"shape://backslash":case"shape://dot":case"shape://plus":case"shape://times":case"shape://oarrow":case"shape://carrow":t=r;break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}var o=this.readExpression(e["mark-size"]),a=this.readExpression(e["mark-rotation"]),i=this.readExpression(e["mark-opacity"]),l=e[":mark"]||{},c=i,u=this.readExpression(l["fill-opacity"]),p=this.readExpression(l.fill),h=this.readExpression(l.rotation)||a,m=this.readExpression(l.size)||o,f=this.readExpression(l.stroke),y=this.readExpression(l["stroke-width"]),g=this.readExpression(l["stroke-opacity"]),d=t&&{wellKnownName:t},S=!s(c)&&{opacity:c},v=!s(u)&&{fillOpacity:u},b=p&&{color:p},k=!s(h)&&{rotate:h},F=!s(m)&&{radius:m/2},x=f&&{strokeColor:f},w=!s(y)&&{strokeWidth:y},E=!s(g)&&{strokeOpacity:g};return n(n(n(n(n(n(n(n(n({kind:"Mark"},d),S),v),b),k),F),x),w),E)},e.prototype.getIconSymbolizerFromGeoCSSRule=function(e){var t=this.readExpression(e.mark),r=this.readExpression(e["mark-size"]),o=this.readExpression(e["mark-rotation"]),a=this.readExpression(e["mark-opacity"]),i=t&&{image:t},l=!s(a)&&{opacity:a},c=!s(o)&&{rotate:o},u=!s(r)&&{size:r};return n(n(n(n({kind:"Icon"},i),l),c),u)},e.prototype.getPointSymbolizerFromGeoCSSRule=function(e){return"url"===e.mark[0]?this.getIconSymbolizerFromGeoCSSRule(e):this.getMarkSymbolizerFromGeoCSSRule(e)},e.prototype.getLineSymbolizerFromGeoCSSRule=function(e){var t=this.readExpression(e.stroke),r=this.readExpression(e["stroke-width"]),o=this.readExpression(e["stroke-opacity"]),a=this.readExpression(e["stroke-linejoin"]),i=this.readExpression(e["stroke-linecap"]),l=this.readExpression(e["stroke-dasharray"]),c=this.readExpression(e["stroke-dashoffset"]),u=this.readExpression(e["stroke-offset"]),p="symbol"===e.stroke[0]||"url"===e.stroke[0]?this.getPointSymbolizerFromGeoCSSRule({mark:e.stroke,"mark-size":e["stroke-size"],"mark-rotation":e["stroke-rotation"],":mark":e[":stroke"]}):void 0,h=!p&&t&&{color:t},m=p&&{graphicStroke:p},f=!s(r)&&{width:r},y=!s(o)&&{opacity:o},g=a&&{join:a},d=i&&{cap:i},S=l&&{dasharray:l},v=c&&{dashOffset:c},b=!s(u)&&{perpendicularOffset:u};return n(n(n(n(n(n(n(n(n({kind:"Line"},h),m),f),y),g),d),S),v),b)},e.prototype.getFillSymbolizerFromGeoCSSRule=function(e){var t=this.readExpression(e.fill),r=this.readExpression(e["fill-opacity"]),o=this.readExpression(e.stroke),a=this.readExpression(e["stroke-width"]),i=this.readExpression(e["stroke-opacity"]),l=this.readExpression(e["stroke-dasharray"]),c="symbol"===e.fill[0]||"url"===e.fill[0]?this.getPointSymbolizerFromGeoCSSRule({mark:e.fill,"mark-size":e["fill-size"],"mark-rotation":e["fill-rotation"],":mark":e[":fill"]}):void 0,u=!c&&t&&{color:t},p=c&&{graphicFill:c},h=!t&&{opacity:0},m=!s(r)&&{fillOpacity:r},f=o&&{outlineColor:o},y=!s(a)&&{outlineWidth:a},g=!s(i)&&{outlineOpacity:i},d=l&&{outlineDasharray:l};return n(n(n(n(n(n(n(n({kind:"Fill"},u),p),h),m),f),y),g),d)},e.prototype.getTextSymbolizerLabelFromGeoCSSProperty=function(e){var t=function e(t){if(void 0===t)return null;if("string"==typeof t||t instanceof String)return t;if(!isNaN(t))return t;var r=t[0],n=t.slice(1);switch(r){case"text":return n.map((function(t){return e(t)}));case"brace":return e(n[0]);case"get":return"{{"+n[0]+"}}";default:return t}}(e);return c(t)?t.join(""):t},e.prototype.getTextSymbolizerFromGeoCSSRule=function(e){var t=this.getTextSymbolizerLabelFromGeoCSSProperty(e.label),r=this.readExpression(e["font-fill"]),o=this.readExpression(e["halo-radius"]),a=this.readExpression(e["halo-color"]),i=this.readExpression(e["label-offset"]),c=this.readExpression(e["label-rotation"]),u=this.readExpression(e["font-family"]),p=this.readExpression(e["font-style"]),h=this.readExpression(e["font-weight"]),m=this.readExpression(e["font-size"]),f=t&&{label:t},y=r&&{color:r},g=!s(o)&&{haloWidth:o},d=a&&{haloColor:a},S=i&&{offset:i},v=!s(c)&&{rotate:c},b=u&&{font:l(u)},k=p&&{fontStyle:p},F=h&&{fontWeight:h},x=!s(m)&&{size:m};return n(n(n(n(n(n(n(n(n(n({kind:"Text"},f),y),g),d),S),v),b),k),F),x)},e.prototype.getColorMapFromGeoCSSProperty=function(e){var t=this,r=e["raster-color-map"]&&this.readExpression(e["raster-color-map"]).map((function(e){var r=t.readExpression(e[1]),n=t.readExpression(e[2]),o=t.readExpression(e[3]);return{color:r,quantity:n,label:t.readExpression(e[4]),opacity:o}}));if(r&&0!==r.length){var o=this.readExpression(e["raster-color-map-type"]);return n({type:o||"ramp"},r&&{colorMapEntries:r})}},e.prototype.getContrastEnhancementFromGeoCSSPropertyContrastEnhancement=function(e,t){var r=this.readExpression(e["raster-contrast-enhancement"]),o=this.readExpression(e["raster-gamma"]);if(void 0!==t){var a=l(r),i=l(o);if(3!==a.length&&1!==a.length||3!==i.length&&1!==i.length)throw new Error("\n          optional raster-contrast-enhancement and raster-gamma properties\n          should use one or three values separated by space\n          eg:\n\n          raster-channels: 0 1 2; /* rgb */\n          raster-contrast-enhancement: nomalize nomalize nomalize;\n          raster-gamma: 0.5 0.5 0.5;\n\n          /* or */\n\n          raster-channels: 0 1 2; /* rgb */\n          raster-contrast-enhancement: nomalize;\n          raster-gamma: 0.5;\n\n        ");var u=a[0],p=i[0];void 0!==u&&void 0===a[t]&&this.addWarning("Used first value of raster-contrast-enhancement for all rgb channel"),void 0!==p&&void 0===i[t]&&this.addWarning("Used first value of raster-gamma for all rgb channel");var h=a[t]||u,m=s(i[t])?p:i[t],f=h&&{enhancementType:this.readExpression(h)},y=!s(m)&&{gammaValue:this.readExpression(m)};return n(n({},f),y)}if(c(r)||c(o))throw new Error("\n          optional raster-contrast-enhancement and raster-gamma properties\n          should use one value when used with gray channel\n          eg:\n\n          raster-channels: 0; /* gray */\n          raster-contrast-enhancement: nomalize;\n          raster-gamma: 0.5;\n\n      ");var g=this.readExpression(r),d=this.readExpression(o);if(!s(g)||!s(d)){var S=g&&{enhancementType:g},v=!s(d)&&{gammaValue:d};return n(n({},S),v)}},e.prototype.getChannelFromGeoCSSChannel=function(e,t,r){var o=this.getContrastEnhancementFromGeoCSSPropertyContrastEnhancement(t,r);return n({sourceChannelName:e+""},o&&{contrastEnhancement:o})},e.prototype.getChannelSelectionFromGeoCSSPropertyChannelSelection=function(e){var t=this.readExpression(e["raster-channels"]);if("auto"!==t){if(c(t)&&3===t.length){var r=t[0],n=t[1],o=t[2];return{redChannel:this.getChannelFromGeoCSSChannel(r,e,0),greenChannel:this.getChannelFromGeoCSSChannel(n,e,1),blueChannel:this.getChannelFromGeoCSSChannel(o,e,2)}}if(u(t)||m(t))return{grayChannel:this.getChannelFromGeoCSSChannel(t,e)};throw new Error("\n      Cannot parse raster-channels. It does not match the auto, gray or rgb structure\n      eg:\n\n      raster-channels: auto;\n      raster-channels: 0; /* gray */\n      raster-channels: 7 2 4; /* rgb */\n\n    ")}},e.prototype.getRasterSymbolizerFromGeoCSSRule=function(e){var t=this.readExpression(e["raster-opacity"]),r=this.getColorMapFromGeoCSSProperty(e),o=this.getChannelSelectionFromGeoCSSPropertyChannelSelection(e),a=!o&&this.getContrastEnhancementFromGeoCSSPropertyContrastEnhancement(e),i=!s(t)&&{opacity:t},l=r&&{colorMap:r},c=o&&{channelSelection:o},u=a&&{contrastEnhancement:a};return n(n(n(n({kind:"Raster"},i),l),c),u)},e.prototype.getSymbolizerTypesFromProperties=function(e){var t=[];return e.mark?t.push("point"):!e.stroke||"none"!==e.fill&&e.fill?e.fill&&"none"!==e.fill?t.push("polygon"):void 0!==e["raster-channels"]&&t.push("raster"):t.push("line"),e.label&&t.push("text"),t},e.prototype.getSymbolizersFromRules=function(e){var t=this;return l(e).reduce((function(e,r){var n=t.getSymbolizerTypesFromProperties(r);return a(e,n.reduce((function(e,n){return"point"===n?a(e,[t.getPointSymbolizerFromGeoCSSRule(r)]):"line"===n?a(e,[t.getLineSymbolizerFromGeoCSSRule(r)]):"polygon"===n?a(e,[t.getFillSymbolizerFromGeoCSSRule(r)]):"text"===n?a(e,[t.getTextSymbolizerFromGeoCSSRule(r)]):"raster"===n?a(e,[t.getRasterSymbolizerFromGeoCSSRule(r)]):a(e)}),[]))}),[]).reduce((function(e,t){var r=!!e.find((function(e){return p(e,t)}));return a(e,r?[]:[t])}),[])},e.prototype.getRulesFromGeoCSSSelectors=function(e){for(var t=this,r=[],i=0;i<e.length;i++){var l=e[i],s=r[r.length-1]||{},u=s.group;void 0!==u&&u===l.group?r[r.length-1]=n(n({},s),{properties:a(c(s.properties)?s.properties:[s.properties],[l.properties])}):r.push(l)}return r.map((function(e){var r=e.title,a=void 0===r?"":r,i=e.selector,l=e.properties,c=o(e,["title","selector","properties"]),s=t.getFilterFromSelectors(i),u=t.getScaleDenominatorFromSelectors(c),p=t.getSymbolizersFromRules(l),h=u&&{scaleDenominator:u},m=p&&{symbolizers:p};return n(n(n({name:a},s&&{filter:s}),h),m)}))},e.prototype.geoCSSObjectToGeoStylerStyle=function(e){var t=e.directive,r=void 0===t?{}:t,n=e.rules;return"Flat"!==r["@mode"]&&this.addWarning("Supported only 'Flat' mode, other directive will be translated as flat GeoCSS"),{name:r["@styleTitle"]||"",rules:this.getRulesFromGeoCSSSelectors(n)}},e.prototype.readStyle=function(e){var t=this;return this.warnings=[],new Promise((function(r,n){try{var o=i.read(e);r(t.geoCSSObjectToGeoStylerStyle(o))}catch(e){n(e)}}))},e.prototype.writeStyle=function(e){var t=this;return this.warnings=[],new Promise((function(r,n){try{var o=t.geoStylerStyleToGeoCSSObject(e);r(i.write(o))}catch(e){n(e)}}))},e.prototype.geoStylerStyleToGeoCSSObject=function(e){var t=this.getGeoCSSRulesFromRules(e.rules);return{directive:{"@mode":"Flat","@styleTitle":e.name},rules:t}},e.prototype.getGeoCSSRulesFromRules=function(e){var t=this;return h(e.map((function(e,r){var o=e.name,i=t.getSelectorsFromFilter(e.filter),l=o&&{title:o},c=e.scaleDenominator||{},p=c.min,h=c.max,m=!(!u(p)&&!u(h)),f=u(p)&&{"min-scale":[">",["get","@sd"],p]},y=u(h)&&{"max-scale":["<",["get","@sd"],h]},g=t.getGeoCSSPropertiesFromSymbolizers(e.symbolizers),d=g.reduce((function(e,t){return a(e,Object.keys(t))}),[]);return g.map((function(e){return n(n(n(n({selector:m&&"*"===i?["any",["all"]]:i},l),f),y),{properties:d.reduce((function(r,o){var a;return n(n({},r),((a={})[o]=s(e[o])?":"===o[0]?t.getFisrtValidPesudoselector(o,g):void 0:e[o],a))}),{}),group:r})}))})))},e.prototype.readFilterExpression=function(e){var t=this;if(e){var r=e[0],n=e.slice(1);switch(r){case"||":case"&&":return a([{"||":"any","&&":"all"}[r]],n.map((function(e){return t.readFilterExpression(e)})));case">":case"<":case">=":case"<=":case"!=":case"==":case"*=":return"=="===r&&null===n[1]?["isnull",["get",n[0]]]:[{"==":"==",">":">",">=":">=","<":"<","<=":"<=","!=":"!=","*=":"like"}[r],["get",n[0]],n[1]];default:return}}},e.prototype.getSelectorsFromFilter=function(e){return e?this.readFilterExpression(e):"*"},e.prototype.getGeoCSSPropertiesFromSymbolizers=function(e){var t=this;return e.map((function(e){switch(e.kind){case"Mark":return t.getGeoCSSPropertiesFromMarkSymbolizer(e);case"Icon":return t.getGeoCSSPropertiesFromIconSymbolizer(e);case"Text":return t.getGeoCSSPropertiesFromTextSymbolizer(e);case"Line":return t.getGeoCSSPropertiesFromLineSymbolizer(e);case"Fill":return t.getGeoCSSPropertiesFromFillSymbolizer(e);case"Raster":return t.getGeoCSSPropertiesFromRasterSymbolizer(e);default:return null}})).filter((function(e){return e}))},e.prototype.getGeoCSSPropertiesFromMarkSymbolizer=function(e,t){var r,o,a,i;void 0===t&&(t="mark");var l=e.wellKnownName&&["symbol",e.wellKnownName.toLowerCase()],c=e.opacity,u=void 0!==e.radius&&2*e.radius,p=e.rotate,h=e.color&&["hex",e.color],m=e.fillOpacity,f=e.strokeColor&&["hex",e.strokeColor],y=e.strokeWidth,g=e.strokeOpacity,d=h||f,S=l&&((r={})[t]=l,r),v="mark"===t&&!s(c)&&{"mark-opacity":c},b=!d&&!1!==u&&!s(u)&&((o={})[t+"-size"]=u,o),k=!d&&!s(p)&&((a={})[t+"-rotation"]=p,a),F=h&&{fill:h},x=m&&{"fill-opacity":m},w=f&&{stroke:f},E=y&&{"stroke-width":y},C=g&&{"stroke-opacity":g},z=!1!==u&&!s(u)&&{size:u},O=!s(p)&&{rotation:p},P=d&&((i={})[":"+t]=n(n(n(n(n(n(n({},F),x),w),E),C),z),O),i);return n(n(n(n(n({},S),v),b),k),P)},e.prototype.getGeoCSSPropertiesFromIconSymbolizer=function(e,t){var r,o,a,i;void 0===t&&(t="mark");var l=e.image&&["url",e.image],c=e.opacity,u=e.size,p=e.rotate,h=l&&((r={})[t]=l,r),m="mark"===t&&!s(c)&&((o={})[t+"-opacity"]=c,o),f=!s(u)&&((a={})[t+"-size"]=u,a),y=!s(p)&&((i={})[t+"-rotation"]=p,i);return n(n(n(n({},h),m),f),y)},e.prototype.getGeoCSSLabelPropertyFromTextSymbolizer=function(e){if(e){var t=e.split(/(\{\{)|(\}\})/g).filter((function(e){return e}));return t.map((function(e,r){return"{{"===e||"}}"===e?null:"{{"===t[r-1]&&"}}"===t[r+1]?["brace",["get",e]]:e})).filter((function(e){return null!==e}))}},e.prototype.getGeoCSSPropertiesFromTextSymbolizer=function(e){var t=this.getGeoCSSLabelPropertyFromTextSymbolizer(e.label),r=e.font,o=e.color&&["hex",e.color],i=e.size,l=e.fontStyle,c=e.fontWeight,u=e.offset&&a(["array"],e.offset),p=e.rotate,h=e.haloWidth,m=e.haloColor&&["hex",e.haloColor],f=t&&{label:a(["text"],t)},y=r&&{"font-family":a(["array"],r)},g=o&&{"font-fill":o},d=!s(i)&&{"font-size":i},S=l&&{"font-style":["get",l]},v=c&&{"font-weight":["get",c]},b=u&&{"label-offset":u},k=!s(p)&&{"label-rotation":p},F=!s(h)&&{"halo-radius":h},x=m&&{"halo-color":m};return n(n(n(n(n(n(n(n(n(n({},f),b),k),y),g),d),S),v),F),x)},e.prototype.getGeoCSSPropertiesFromLineSymbolizer=function(e){var t=e.color&&["hex",e.color],r=e.width,o=e.opacity,i=e.join,l=e.cap,c=e.dasharray&&a(["array"],e.dasharray),u=e.dashOffset,p=e.graphicStroke?"Mark"===e.graphicStroke.kind?this.getGeoCSSPropertiesFromMarkSymbolizer(e.graphicStroke,"stroke"):"Icon"===e.graphicStroke.kind?this.getGeoCSSPropertiesFromIconSymbolizer(e.graphicStroke,"stroke"):void 0:void 0,h=!p&&t&&{stroke:t},m=!s(r)&&{"stroke-width":r},f=!s(o)&&{"stroke-opacity":o},y=i&&{"stroke-linejoin":i},g=l&&{"stroke-linecap":l},d=c&&{"stroke-dasharray":c},S=u&&{"stroke-dashoffset":u};return n(n(n(n(n(n(n(n({},h),m),f),y),g),d),S),p)},e.prototype.getGeoCSSPropertiesFromFillSymbolizer=function(e){var t=e.color&&["hex",e.color],r=e.fillOpacity,o=e.outlineColor&&["hex",e.outlineColor],i=e.outlineWidth,l=e.outlineOpacity,c=e.outlineDasharray&&a(["array"],e.outlineDasharray),u=e.graphicFill?"Mark"===e.graphicFill.kind?this.getGeoCSSPropertiesFromMarkSymbolizer(e.graphicFill,"fill"):"Icon"===e.graphicFill.kind?this.getGeoCSSPropertiesFromIconSymbolizer(e.graphicFill,"fill"):void 0:void 0,p=!u&&t&&{fill:t},h=!s(r)&&{"fill-opacity":r},m=o&&{stroke:o},f=!s(i)&&{"stroke-width":i},y=!s(l)&&{"stroke-opacity":l},g=c&&{"stroke-dasharray":c};return n(n(n(n(n(n(n({},p),h),m),f),y),g),u)},e.prototype.getGeoCSSColorMapFromColorMap=function(e){if(e){var t=e.colorMapEntries&&e.colorMapEntries.length>0&&e.colorMapEntries.map((function(e){return["color-map-entry",["hex",e.color],e.quantity,e.opacity,e.label].filter((function(e){return!s(e)}))})).filter((function(e){return e.length>1})),r=e.type&&{"raster-color-map-type":["get",e.type]},o=t&&t.length>0&&{"raster-color-map":a(["array"],t)};return n(n({},r),o)}},e.prototype.getGeoCSSChannelSelectionFromChannelSelection=function(e){var t=e&&e.redChannel,r=e&&e.greenChannel,o=e&&e.blueChannel;if(t&&r&&o){var a=t.sourceChannelName,i=r.sourceChannelName,l=o.sourceChannelName,c=t.contrastEnhancement,u=c.enhancementType,p=c.gammaValue,h=r.contrastEnhancement,m=h.enhancementType,f=h.gammaValue,y=o.contrastEnhancement,g=y.enhancementType,d=y.gammaValue,S=u&&m&&g&&{"raster-contrast-enhancement":["array",["get",u],["get",m],["get",g]]},v=!s(p)&&!s(f)&&!s(d)&&{"raster-gamma":["array",p,f,d]};return n(n({"raster-channels":["array",parseFloat(a),parseFloat(i),parseFloat(l)]},S),v)}var b=e&&e.grayChannel;if(b){var k=b.sourceChannelName,F=b.contrastEnhancement,x=F.enhancementType,w=F.gammaValue;return S=x&&{"raster-contrast-enhancement":["get",x]},v=!s(w)&&{"raster-gamma":w},n(n({"raster-channels":parseFloat(k)},S),v)}return{"raster-channels":["get","auto"]}},e.prototype.getGeoCSSPropertiesFromRasterSymbolizer=function(e){var t=!s(e.opacity)&&{"raster-opacity":e.opacity},r=this.getGeoCSSColorMapFromColorMap(e.colorMap),o=this.getGeoCSSChannelSelectionFromChannelSelection(e.channelSelection),a=e&&e.contrastEnhancement||{},i=a.enhancementType,l=a.gammaValue,c=o["raster-channels"]&&"auto"===o["raster-channels"][1],u=c&&i&&{"raster-contrast-enhancement":["get",i]},p=c&&!s(l)&&{"raster-gamma":l};return n(n(n(n(n({},o),u),p),t),r)},e.title="GeoCSS Style Parser",e.combinationMap={all:"&&",any:"||"},e.comparisonMap={"==":"==",">":">",">=":">=","<":"<","<=":"<=","!=":"!=",like:"*=",ilike:"*="},e}();t.GeoCSSStyleParser=y,t.default=y},26387:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,o++)n[o]=a[i];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(66023),a=r(37153),i=r(77263),l=r(57546),c=r(50385),s=r(62582),u=function(){function e(e){this.title="SLD Style Parser",this._numericFilterFields=[],this._boolFilterFields=[],this._forceCasting=!1,this._prettyOutput=!0,this.getTextSymbolizerLabelFromSldSymbolizer=function(e){var t="",r=l(e,"Literal"),n=l(e,"PropertyName"),o="Literal"===Object.keys(e)[0];if(n&&n.length>0){var a=n.map((function(e){return"{{"+e+"}}"}));r&&r.length>0?o?(r.forEach((function(e,r){t+=""+e,a[r]&&(t+=""+a[r])})),a.length>r.length&&(t+=a.join(""))):(a.forEach((function(e,n){t+=""+e,r[n]&&(t+=""+r[n])})),r.length>a.length&&(t+=r.join(""))):t=a.join("")}else r&&r.length>0?t=r.join(""):"string"==typeof e&&(t=e);return t},this.getSldLabelFromTextSymbolizer=function(e){var t=new RegExp("\\{\\{.*?\\}\\}","g"),r=e.match(t),n=e.startsWith("{{");if(r){var o=e.split(t),a=[];o.forEach((function(e){0!==e.length&&a.push(e)}));var i=r.map((function(e){return e.slice(2,e.length-2)}));return n?[{"ogc:PropertyName":i,"ogc:Literal":a}]:[{"ogc:Literal":a,"ogc:PropertyName":i}]}return[{"ogc:Literal":[e]}]},Object.assign(this,e)}return Object.defineProperty(e.prototype,"numericFilterFields",{get:function(){return this._numericFilterFields},set:function(e){this._numericFilterFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boolFilterFields",{get:function(){return this._boolFilterFields},set:function(e){this._boolFilterFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceCasting",{get:function(){return this._forceCasting},set:function(e){this._forceCasting=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prettyOutput",{get:function(){return this._prettyOutput},set:function(e){this._prettyOutput=e},enumerable:!0,configurable:!0}),e.keysByValue=function(e,t){return Object.keys(e).filter((function(r){return e[r]===t}))},e.prototype.tagNameProcessor=function(e){var t=new RegExp(/(?!xmlns)^.*:/);return e.replace(t,"")},e.prototype.getStyleNameFromSldObject=function(e){var t=l(e,"StyledLayerDescriptor.NamedLayer[0].UserStyle[0].Title[0]"),r=l(e,"StyledLayerDescriptor.NamedLayer[0].Name[0]");return t||r||""},e.prototype.getStrMatchesFunctionFilterFromSldFilter=function(e){var t=l(e,"Function[0].PropertyName[0]"),r=l(e,"Function[0].Literal[0]");return["FN_strMatches",t,new RegExp(r)]},e.prototype.getFunctionFilterFromSldFilter=function(e){return l(e,"Function[0].$.name"),this.getStrMatchesFunctionFilterFromSldFilter(e)},e.prototype.getFilterFromOperatorAndComparison=function(t,r){var o,i=this;if(Object.keys(e.comparisonMap).includes(t)){var l=e.comparisonMap[t],c=!!r.Function,s=c?this.getFunctionFilterFromSldFilter(r):r.PropertyName[0],u=null;if("PropertyIsNull"!==t&&(u=r.Literal[0]),(this.forceCasting||c||-1!==this.numericFilterFields.indexOf(s))&&!Number.isNaN(parseFloat(u))&&(u=parseFloat(u)),a(u)){var p=u.toLowerCase();(this.forceCasting||c||-1!==this.boolFilterFields.indexOf(s))&&("false"===p&&(u=!1),"true"===p&&(u=!0))}o=[l,s,u]}else if(Object.keys(e.combinationMap).includes(t)){var h=e.combinationMap[t],m=[];Object.keys(r).forEach((function(e){1===r[e].length?m.push(i.getFilterFromOperatorAndComparison(e,r[e][0])):r[e].forEach((function(t){m.push(i.getFilterFromOperatorAndComparison(e,t))}))})),o=n([h],m)}else{if(!Object.keys(e.negationOperatorMap).includes(t))throw new Error("No Filter detected");var f=e.negationOperatorMap[t],y=Object.keys(r)[0],g=r[y][0];o=[f,this.getFilterFromOperatorAndComparison(y,g)]}return o},e.prototype.getFilterFromRule=function(e){var t=e.Filter;if(t){var r=t[0],n=Object.keys(r).find((function(e,t){return"$"!==e}));if(n){var o=r[n][0];return this.getFilterFromOperatorAndComparison(n,o)}}},e.prototype.getScaleDenominatorFromRule=function(e){var t={};return e.MinScaleDenominator&&(t.min=parseFloat(e.MinScaleDenominator[0])),e.MaxScaleDenominator&&(t.max=parseFloat(e.MaxScaleDenominator[0])),t.min||t.max?t:void 0},e.prototype.getMarkSymbolizerFromSldSymbolizer=function(e){var t=l(e,"Graphic[0].Mark[0].WellKnownName[0]"),r=l(e,"Graphic[0].Mark[0].Stroke[0].CssParameter")||[];0===r.length&&(r=l(e,"Graphic[0].Mark[0].Stroke[0].SvgParameter")||[]);var n=l(e,"Graphic[0].Opacity[0]"),o=l(e,"Graphic[0].Size[0]"),a=l(e,"Graphic[0].Rotation[0]"),i=l(e,"Graphic[0].Mark[0].Fill[0].CssParameter")||[];0===i.length&&(i=l(e,"Graphic[0].Mark[0].Fill[0].SvgParameter")||[]);var c=i.findIndex((function(e){return"fill"===e.$.name})),s=l(e,"Graphic[0].Mark[0].Fill[0].CssParameter["+c+"]._");if(!s){var u=l(e,"Graphic[0].Mark[0].Fill[0].SvgParameter["+c+"]._");u&&(s=u)}var p=i.findIndex((function(e){return"fill-opacity"===e.$.name})),h=l(e,"Graphic[0].Mark[0].Fill[0].CssParameter["+p+"]._"),m={kind:"Mark"};switch(n&&(m.opacity=parseFloat(n)),h&&(m.fillOpacity=parseFloat(h)),s&&(m.color=s),a&&(m.rotate=parseFloat(a)),o&&(m.radius=parseFloat(o)/2),t){case"circle":case"square":case"triangle":case"star":case"cross":case"x":var f=t.charAt(0).toUpperCase()+t.slice(1);m.wellKnownName=f;break;case"shape://vertline":case"shape://horline":case"shape://slash":case"shape://backslash":case"shape://dot":case"shape://plus":case"shape://times":case"shape://oarrow":case"shape://carrow":m.wellKnownName=t;break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}return r.forEach((function(e){switch(e.$.name){case"stroke":m.strokeColor=e._;break;case"stroke-width":m.strokeWidth=parseFloat(e._);break;case"stroke-opacity":m.strokeOpacity=parseFloat(e._)}})),m},e.prototype.getIconSymbolizerFromSldSymbolizer=function(e){var t={kind:"Icon",image:l(e,"Graphic[0].ExternalGraphic[0].OnlineResource[0]").$["xlink:href"]},r=l(e,"Graphic[0].Opacity[0]"),n=l(e,"Graphic[0].Size[0]"),o=l(e,"Graphic[0].Rotation[0]");return r&&(t.opacity=r),n&&(t.size=parseFloat(n)),o&&(t.rotate=parseFloat(o)),t},e.prototype.getPointSymbolizerFromSldSymbolizer=function(e){var t={},r=l(e,"Graphic[0].Mark[0].WellKnownName[0]");return l(e,"Graphic[0].ExternalGraphic[0]")?t=this.getIconSymbolizerFromSldSymbolizer(e):(r||c(e,"Graphic[0].Mark[0].WellKnownName[0]","square"),t=this.getMarkSymbolizerFromSldSymbolizer(e)),t},e.prototype.getLineSymbolizerFromSldSymbolizer=function(e){var t=this,r={kind:"Line"},n=Object.keys(l(e,"Stroke[0]"))||[];if(n.length<1)throw new Error("LineSymbolizer cannot be parsed. No Stroke detected");n.forEach((function(n){switch(n){case"CssParameter":case"SvgParameter":var o=l(e,"Stroke[0].CssParameter")||[];if(0===o.length&&(o=l(e,"Stroke[0].SvgParameter")||[]),o.length<1)throw new Error("LineSymbolizer can not be parsed. No CssParameters detected.");o.forEach((function(e){var t=e.$.name,n=e._;switch(t){case"stroke":r.color=n;break;case"stroke-width":r.width=parseFloat(n);break;case"stroke-opacity":r.opacity=parseFloat(n);break;case"stroke-linejoin":r.join="mitre"===n?"miter":n;break;case"stroke-linecap":r.cap=n;break;case"stroke-dasharray":var o=n.split(" ").map((function(e){return parseFloat(e)}));r.dasharray=o;break;case"stroke-dashoffset":r.dashOffset=parseFloat(n)}}));break;case"GraphicStroke":r.graphicStroke=t.getPointSymbolizerFromSldSymbolizer(e.Stroke[0].GraphicStroke[0]);break;case"GraphicFill":r.graphicFill=t.getPointSymbolizerFromSldSymbolizer(e.Stroke[0].GraphicFill[0])}}));var o=l(e,"PerpendicularOffset[0]");return void 0!==o&&(r.perpendicularOffset=Number(o)),r},e.prototype.getFillSymbolizerFromSldSymbolizer=function(e){var t={kind:"Fill"},r=l(e,"Fill[0].CssParameter")||[];0===r.length&&(r=l(e,"Fill[0].SvgParameter")||[]);var n=l(e,"Stroke[0].CssParameter")||[];0===n.length&&(n=l(e,"Stroke[0].SvgParameter")||[]);var o=l(e,"Fill[0].GraphicFill[0]");return o&&(t.graphicFill=this.getPointSymbolizerFromSldSymbolizer(o)),r.forEach((function(e){var r=e.$.name,n=e._;switch(r){case"fill":t.color=n;break;case"fill-opacity":t.fillOpacity=parseFloat(n)}})),t.color||(t.opacity=0),n.forEach((function(e){var r=e.$.name,n=e._;if("stroke"===r)t.outlineColor=n;else if("stroke-width"===r)t.outlineWidth=parseFloat(n);else if("stroke-opacity"===r)t.outlineOpacity=parseFloat(n);else if("stroke-dasharray"===r){var o=n.split(" "),a=[];o.forEach((function(e){a.push(parseFloat(e))})),t.outlineDasharray=a}})),t},e.prototype.getColorMapFromSldColorMap=function(e){var t={},r=l(e,"$.type");t.type=r||"ramp";var n=l(e,"$.extended");n&&(t.extended="true"===n);var o=l(e,"ColorMapEntry");if(Array.isArray(o)){var a=o.map((function(e){var t=l(e,"$.color");if(!t)throw new Error("Cannot parse ColorMapEntries. color is undefined.");var r=l(e,"$.quantity");r&&(r=parseFloat(r));var n=l(e,"$.label"),o=l(e,"$.opacity");return o&&(o=parseFloat(o)),{color:t,quantity:r,label:n,opacity:o}}));t.colorMapEntries=a}return t},e.prototype.getContrastEnhancementFromSldContrastEnhancement=function(e){var t={},r=void 0!==e.Histogram,n=void 0!==e.Normalize;if(r&&n)throw new Error("Cannot parse ContrastEnhancement. Histogram and Normalize\n      are mutually exclusive.");r?t.enhancementType="histogram":n&&(t.enhancementType="normalize");var o=l(e,"GammaValue[0]");return o&&(o=parseFloat(o)),t.gammaValue=o,t},e.prototype.getChannelFromSldChannel=function(e){var t={sourceChannelName:l(e,"SourceChannelName[0]")},r=l(e,"ContrastEnhancement[0]");return r&&(t.contrastEnhancement=this.getContrastEnhancementFromSldContrastEnhancement(r)),t},e.prototype.getChannelSelectionFromSldChannelSelection=function(e){var t,r=l(e,"RedChannel[0]"),n=l(e,"BlueChannel[0]"),o=l(e,"GreenChannel[0]"),a=l(e,"GrayChannel[0]");if(a&&r&&n&&o)throw new Error("Cannot parse ChannelSelection. RGB and Grayscale are mutually exclusive");if(a)t={grayChannel:this.getChannelFromSldChannel(a)};else{if(!(r&&o&&n))throw new Error("Cannot parse ChannelSelection. Red, Green and Blue channels must be defined.");t={redChannel:this.getChannelFromSldChannel(r),blueChannel:this.getChannelFromSldChannel(n),greenChannel:this.getChannelFromSldChannel(o)}}return t},e.prototype.getRasterSymbolizerFromSldSymbolizer=function(e){var t={kind:"Raster"},r=l(e,"Opacity[0]");r&&(r=parseFloat(r),t.opacity=r);var n=l(e,"ColorMap")||[];if(n.length>0){var o=this.getColorMapFromSldColorMap(n[0]);t.colorMap=o}var a=l(e,"ChannelSelection")||[];if(a.length>0){var i=this.getChannelSelectionFromSldChannelSelection(a[0]);t.channelSelection=i}var c=l(e,"ContrastEnhancement")||[];if(c.length>0){var s=this.getContrastEnhancementFromSldContrastEnhancement(c[0]);t.contrastEnhancement=s}return t},e.prototype.getTextSymbolizerFromSldSymbolizer=function(e){var t={kind:"Text"},r=l(e,"Font[0].CssParameter")||[];0===r.length&&(r=l(e,"Font[0].SvgParameter")||[]);var n=l(e,"Label[0]");n&&(t.label=this.getTextSymbolizerLabelFromSldSymbolizer(n));var o=l(e,"Fill[0].CssParameter[0]._");o||(o=l(e,"Fill[0].SvgParameter[0]._"));var a=l(e,"Halo[0].Fill[0].CssParameter")||[];0===a.length&&(a=l(e,"Halo[0].Fill[0].SvgParameter")||[]);var i=l(e,"Halo[0].Radius[0]");o&&(t.color=o),i&&(t.haloWidth=parseFloat(i)),a.forEach((function(e){var r=e.$.name,n=e._;"fill"===r&&(t.haloColor=n)}));var c=l(e,"LabelPlacement[0].PointPlacement[0].Displacement[0]");if(c){var s=c.DisplacementX[0],u=c.DisplacementY[0];t.offset=[s?parseFloat(s):0,u?parseFloat(u):0]}var p=l(e,"LabelPlacement[0].PointPlacement[0].Rotation[0]");return p&&(t.rotate=parseFloat(p)),r.forEach((function(e){var r=e.$.name,n=e._;switch(r){case"font-family":t.font=[n];break;case"font-style":t.fontStyle=n;break;case"font-weight":t.fontWeight=n;break;case"font-size":t.size=parseFloat(n)}})),t},e.prototype.getSymbolizersFromRule=function(e){var t=this,r=[];return Object.keys(e).filter((function(e){return e.endsWith("Symbolizer")})).forEach((function(n){e[n].forEach((function(e){var o;switch(n){case"PointSymbolizer":o=t.getPointSymbolizerFromSldSymbolizer(e);break;case"LineSymbolizer":o=t.getLineSymbolizerFromSldSymbolizer(e);break;case"TextSymbolizer":o=t.getTextSymbolizerFromSldSymbolizer(e);break;case"PolygonSymbolizer":o=t.getFillSymbolizerFromSldSymbolizer(e);break;case"RasterSymbolizer":o=t.getRasterSymbolizerFromSldSymbolizer(e);break;default:throw new Error("Failed to parse SymbolizerKind from SldRule")}r.push(o)}))})),r},e.prototype.getRulesFromSldObject=function(e){var t=this,r=e.StyledLayerDescriptor.NamedLayer,n=[];return r.forEach((function(e){e.UserStyle.forEach((function(e){e.FeatureTypeStyle.forEach((function(e){e.Rule.forEach((function(e){var r=t.getFilterFromRule(e),o=t.getScaleDenominatorFromRule(e),a=t.getSymbolizersFromRule(e),i={name:e.Title?e.Title[0]:e.Name?e.Name[0]:""};r&&(i.filter=r),o&&(i.scaleDenominator=o),a&&(i.symbolizers=a),n.push(i)}))}))}))})),n},e.prototype.sldObjectToGeoStylerStyle=function(e){var t=this.getRulesFromSldObject(e);return{name:this.getStyleNameFromSldObject(e),rules:t}},e.prototype.readStyle=function(e){var t=this;return new Promise((function(r,n){var a={tagNameProcessors:[t.tagNameProcessor]};try{o.parseString(e,a,(function(e,o){e&&n("Error while parsing sldString: "+e);var a=t.sldObjectToGeoStylerStyle(o);r(a)}))}catch(e){n(e)}}))},e.prototype.writeStyle=function(e){var t=this;return new Promise((function(r,n){try{var a={renderOpts:{pretty:t.prettyOutput}},i=new o.Builder(a),l=t.geoStylerStyleToSldObject(e);r(i.buildObject(l))}catch(e){n(e)}}))},e.prototype.geoStylerStyleToSldObject=function(e){var t=this.getSldRulesFromRules(e.rules);return t.forEach((function(e){e.Filter&&!e.Filter.$&&(e.Filter.$={xmlns:"http://www.opengis.net/ogc"})})),{StyledLayerDescriptor:{$:{version:"1.0.0","xsi:schemaLocation":"http://www.opengis.net/sld StyledLayerDescriptor.xsd",xmlns:"http://www.opengis.net/sld","xmlns:ogc":"http://www.opengis.net/ogc","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},NamedLayer:[{Name:[e.name||""],UserStyle:[{Name:[e.name||""],Title:[e.name||""],FeatureTypeStyle:[{Rule:t}]}]}]}}},e.prototype.getSldRulesFromRules=function(e){var t=this;return e.map((function(e){var r={Name:[e.name]};if(e.filter){var n=t.getSldFilterFromFilter(e.filter);r.Filter=n}if(e.scaleDenominator){var o=e.scaleDenominator,a=o.min,l=o.max;a&&i(a)&&(r.MinScaleDenominator=[a.toString()]),l&&i(l)&&(r.MaxScaleDenominator=[l.toString()])}var c=t.getSldSymbolizersFromSymbolizers(e.symbolizers),s=[];return c.length>0&&(s=Object.keys(c[0])),s.forEach((function(e){0===c[0][e].length&&delete c[0][e]})),c.length>0&&0!==Object.keys(c[0]).length&&(r=Object.assign(r,c[0])),r}))},e.prototype.getSldSymbolizersFromSymbolizers=function(e){var t=this,r=[],n={};return e.forEach((function(e){var o;switch(e.kind){case"Mark":n.PointSymbolizer||(n.PointSymbolizer=[]),o=t.getSldPointSymbolizerFromMarkSymbolizer(e),l(o,"PointSymbolizer[0]")&&n.PointSymbolizer.push(l(o,"PointSymbolizer[0]"));break;case"Icon":n.PointSymbolizer||(n.PointSymbolizer=[]),o=t.getSldPointSymbolizerFromIconSymbolizer(e),l(o,"PointSymbolizer[0]")&&n.PointSymbolizer.push(l(o,"PointSymbolizer[0]"));break;case"Text":n.TextSymbolizer||(n.TextSymbolizer=[]),o=t.getSldTextSymbolizerFromTextSymbolizer(e),l(o,"TextSymbolizer[0]")&&n.TextSymbolizer.push(l(o,"TextSymbolizer[0]"));break;case"Line":n.LineSymbolizer||(n.LineSymbolizer=[]),o=t.getSldLineSymbolizerFromLineSymbolizer(e),l(o,"LineSymbolizer[0]")&&n.LineSymbolizer.push(l(o,"LineSymbolizer[0]"));break;case"Fill":n.PolygonSymbolizer||(n.PolygonSymbolizer=[]),o=t.getSldPolygonSymbolizerFromFillSymbolizer(e),l(o,"PolygonSymbolizer[0]")&&n.PolygonSymbolizer.push(l(o,"PolygonSymbolizer[0]"));break;case"Raster":n.RasterSymbolizer||(n.RasterSymbolizer=[]),o=t.getSldRasterSymbolizerFromRasterSymbolizer(e),l(o,"RasterSymbolizer[0]")&&n.RasterSymbolizer.push(l(o,"RasterSymbolizer[0]"))}r.push(n)})),r},e.prototype.getSldTextSymbolizerFromTextSymbolizer=function(e){var t=[{Label:e.label?this.getSldLabelFromTextSymbolizer(e.label):void 0}],r={font:"font-family",size:"font-size",fontStyle:"font-style",fontWeight:"font-weight"},n=Object.keys(e).filter((function(e){return"kind"!==e&&r[e]})).map((function(t){return{_:"font"===t?e[t][0]:e[t],$:{name:r[t]}}}));if(n.length>0&&(t[0].Font=[{CssParameter:n}]),e.offset||void 0!==e.rotate){var o=[{}];e.offset&&(o[0].Displacement=[{DisplacementX:[e.offset[0].toString()],DisplacementY:[e.offset[1].toString()]}]),void 0!==e.rotate&&(o[0].Rotation=[e.rotate.toString()]),t[0].LabelPlacement=[{PointPlacement:o}]}if(e.color&&(t[0].Fill=[{CssParameter:[{_:e.color,$:{name:"fill"}}]}]),e.haloWidth||e.haloColor){var a={},i=[];e.haloWidth&&(a.Radius=[e.haloWidth.toString()]),e.haloColor&&i.push({_:e.haloColor,$:{name:"fill"}}),i.length>0&&(a.Fill=[{CssParameter:i}]),t[0].Halo=[a]}return{TextSymbolizer:t}},e.prototype.getSldPolygonSymbolizerFromFillSymbolizer=function(e){var t,r={outlineColor:"stroke",outlineWidth:"stroke-width",outlineOpacity:"stroke-opacity",outlineDasharray:"stroke-dasharray"},n={color:"fill",fillOpacity:"fill-opacity"},o=[],a=[];l(e,"graphicFill")&&("Mark"===l(e,"graphicFill.kind")?t=this.getSldPointSymbolizerFromMarkSymbolizer(e.graphicFill):"Icon"===l(e,"graphicFill.kind")&&(t=this.getSldPointSymbolizerFromIconSymbolizer(e.graphicFill))),Object.keys(e).filter((function(e){return"kind"!==e})).filter((function(t){return void 0!==e[t]&&null!==e[t]})).forEach((function(t){if(Object.keys(n).includes(t))a.push({_:e[t],$:{name:n[t]}});else if(Object.keys(r).includes(t)){var i="";if("outlineDasharray"===t){var l=e[t];i="",l.forEach((function(e,t){i+=e,t<l.length-1&&(i+=" ")}))}else i="outlineWidth"===t||"outlineOpacity"===t?e[t]+"":e[t];o.push({_:i,$:{name:r[t]}})}}));var i=[{}];return(a.length>0||t)&&(i[0].Fill=[{}],t&&(i[0].Fill[0].GraphicFill=[t.PointSymbolizer[0]]),a.length>0&&(i[0].Fill[0].CssParameter=a)),o.length>0&&(i[0].Stroke=[{CssParameter:o}]),{PolygonSymbolizer:i}},e.prototype.getSldLineSymbolizerFromLineSymbolizer=function(e){var t={color:"stroke",width:"stroke-width",opacity:"stroke-opacity",join:"stroke-linejoin",cap:"stroke-linecap",dasharray:"stroke-dasharray",dashOffset:"stroke-dashoffset"},r={LineSymbolizer:[{Stroke:[{}]}]},n=Object.keys(e).filter((function(r){return"kind"!==r&&t[r]&&void 0!==e[r]&&null!==e[r]})).map((function(r){var n=e[r];return"dasharray"===r&&(n=e.dasharray?e.dasharray.join(" "):void 0),"join"===r&&"miter"===n&&(n="mitre"),{_:n,$:{name:t[r]}}})),o=e.perpendicularOffset;if(l(e,"graphicStroke"))if("Mark"===l(e,"graphicStroke.kind")){var a=this.getSldPointSymbolizerFromMarkSymbolizer(e.graphicStroke);r.LineSymbolizer[0].Stroke[0].GraphicStroke=[a.PointSymbolizer[0]]}else"Icon"===l(e,"graphicStroke.kind")&&(a=this.getSldPointSymbolizerFromIconSymbolizer(e.graphicStroke),r.LineSymbolizer[0].Stroke[0].GraphicStroke=[a.PointSymbolizer[0]]);if(l(e,"graphicFill"))if("Mark"===l(e,"graphicFill.kind")){var i=this.getSldPointSymbolizerFromMarkSymbolizer(e.graphicFill);r.LineSymbolizer[0].Stroke[0].GraphicFill=[i.PointSymbolizer[0]]}else"Icon"===l(e,"graphicFill.kind")&&(i=this.getSldPointSymbolizerFromIconSymbolizer(e.graphicFill),r.LineSymbolizer[0].Stroke[0].GraphicFill=[i.PointSymbolizer[0]]);return 0!==n.length&&(r.LineSymbolizer[0].Stroke[0].CssParameter=n),o&&(r.LineSymbolizer[0].PerpendicularOffset=[o]),r},e.prototype.getSldPointSymbolizerFromMarkSymbolizer=function(e){var t=[{WellKnownName:[e.wellKnownName.toLowerCase()]}];if(e.color||e.fillOpacity){var r=[];e.color&&r.push({_:e.color,$:{name:"fill"}}),e.fillOpacity&&r.push({_:e.fillOpacity,$:{name:"fill-opacity"}}),t[0].Fill=[{CssParameter:r}]}if(e.strokeColor||e.strokeWidth||e.strokeOpacity){t[0].Stroke=[{}];var n=[];e.strokeColor&&n.push({_:e.strokeColor,$:{name:"stroke"}}),e.strokeWidth&&n.push({_:e.strokeWidth.toString(),$:{name:"stroke-width"}}),e.strokeOpacity&&n.push({_:e.strokeOpacity.toString(),$:{name:"stroke-opacity"}}),t[0].Stroke[0].CssParameter=n}var o=[{Mark:t}];return e.opacity&&(o[0].Opacity=[e.opacity.toString()]),e.radius&&(o[0].Size=[(2*e.radius).toString()]),e.rotate&&(o[0].Rotation=[e.rotate.toString()]),{PointSymbolizer:[{Graphic:o}]}},e.prototype.getSldPointSymbolizerFromIconSymbolizer=function(e){var t=[{ExternalGraphic:[{OnlineResource:[{$:{"xlink:type":"simple","xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":e.image}}]}]}];if(e.image){var r=e.image.split(".").pop();switch(r){case"png":case"jpeg":case"gif":t[0].ExternalGraphic[0].Format=["image/"+r];break;case"jpg":t[0].ExternalGraphic[0].Format=["image/jpeg"];break;case"svg":t[0].ExternalGraphic[0].Format=["image/svg+xml"]}}return e.opacity&&(t[0].Opacity=e.opacity),e.size&&(t[0].Size=e.size),e.rotate&&(t[0].Rotation=e.rotate),{PointSymbolizer:[{Graphic:t}]}},e.prototype.getSldRasterSymbolizerFromRasterSymbolizer=function(e){var t,r,n,o,a=[{}];return void 0!==e.opacity&&(t=[e.opacity.toString()],a[0].Opacity=t),e.colorMap&&(r=this.getSldColorMapFromColorMap(e.colorMap),s(r[0])||(a[0].ColorMap=r)),e.channelSelection&&(n=this.getSldChannelSelectionFromChannelSelection(e.channelSelection),s(n[0])||(a[0].ChannelSelection=n)),e.contrastEnhancement&&(o=this.getSldContrastEnhancementFromContrastEnhancement(e.contrastEnhancement),s(o[0])||(a[0].ContrastEnhancement=o)),{RasterSymbolizer:a}},e.prototype.getSldColorMapFromColorMap=function(e){var t=[{$:{}}];if(e.type){var r=e.type;t[0].$.type=r}if(void 0!==e.extended){var n=e.extended.toString();t[0].$.extended=n}if(e.colorMapEntries&&e.colorMapEntries.length>0){var o=e.colorMapEntries.map((function(e){var t={$:{}};return e.color&&(t.$.color=e.color),void 0!==e.quantity&&(t.$.quantity=e.quantity.toString()),e.label&&(t.$.label=e.label),void 0!==e.opacity&&(t.$.opacity=e.opacity.toString()),t})).filter((function(e){return Object.keys(e.$).length>0}));t[0].ColorMapEntry=o}return t},e.prototype.getSldChannelSelectionFromChannelSelection=function(e){var t=this,r={redChannel:"RedChannel",blueChannel:"BlueChannel",greenChannel:"GreenChannel",grayChannel:"GrayChannel"},n=Object.keys(e),o=[{}];return n.forEach((function(n){var a=[{}],i=l(e,n+".sourceChannelName"),c=l(e,n+".contrastEnhancement");(i||c)&&(i&&(a[0].SourceChannelName=[i]),c&&(a[0].ContrastEnhancement=t.getSldContrastEnhancementFromContrastEnhancement(c)),o[0][r[n]]=a)})),o},e.prototype.getSldContrastEnhancementFromContrastEnhancement=function(e){var t=[{}],r=l(e,"enhancementType");return"normalize"===r?t[0].Normalize=[""]:"histogram"===r&&(t[0].Histogram=[""]),void 0!==e.gammaValue&&(t[0].GammaValue=[e.gammaValue.toString()]),t},e.prototype.getSldStrMatchesFunctionFromFunctionFilter=function(e){return{$:{name:"strMatches"},PropertyName:[e[1]],Literal:[e[2].toString().replace(/\//g,"")]}},e.prototype.getSldFunctionFilterFromFunctionFilter=function(e){if("strMatches"===e[0].split("FN_")[1])return this.getSldStrMatchesFunctionFromFunctionFilter(e)},e.prototype.getSldComparisonFilterFromComparisonFilter=function(t){var r,n,o,a={},i=t[0],l=t[1],c=t[2],s=e.keysByValue(e.comparisonMap,i),u=s.length>1&&null===c?s[1]:s[0],p="PropertyName";return Array.isArray(l)&&l[0].startsWith("FN_")&&(l=this.getSldFunctionFilterFromFunctionFilter(l),p="Function"),a[u]="PropertyIsNull"===u?[(r={},r[p]=[l],r)]:"PropertyIsLike"===u?[(n={$:{wildCard:"*",singleChar:".",escape:"!"}},n[p]=[l],n.Literal=[c],n)]:[(o={},o[p]=[l],o.Literal=[c],o)],a},e.prototype.getSldFilterFromFilter=function(t){var r=this,n={},o=t[0],a=t.slice(1);if(Object.values(e.comparisonMap).includes(o))n=this.getSldComparisonFilterFromComparisonFilter(t);else if(Object.values(e.combinationMap).includes(o)){var i=e.keysByValue(e.combinationMap,o)[0];n[i]=[{}],a.forEach((function(e,t){var o=r.getSldFilterFromFilter(e),a=Object.keys(o)[0];if("||"===e[0]||"&&"===e[0]){["And","Or"].includes(a)?(n[i][0][a]||(n[i][0][a]=[]),n[i][0][a][t]={}):n[i][0][a]={};var l=Object.keys(o)[0];e.forEach((function(e,o){if(o>0){var a=r.getSldFilterFromFilter(e),c=Object.keys(a)[0];n[i][0][l][t]||(n[i][0][l][t]={}),n[i][0][l][t][c]||(n[i][0][l][t][c]=[]),n[i][0][l][t][c].push(a[c][0])}}))}else Array.isArray(n[i][0][a])?n[i][0][a].push(o[a][0]):n[i][0][a]=o[a]}))}else Object.values(e.negationOperatorMap).includes(o)&&(n.Not=a.map((function(e){return r.getSldFilterFromFilter(e)})));return n},e.title="SLD Style Parser",e.negationOperatorMap={Not:"!"},e.combinationMap={And:"&&",Or:"||",PropertyIsBetween:"&&"},e.comparisonMap={PropertyIsEqualTo:"==",PropertyIsNotEqualTo:"!=",PropertyIsLike:"*=",PropertyIsLessThan:"<",PropertyIsLessThanOrEqualTo:"<=",PropertyIsGreaterThan:">",PropertyIsGreaterThanOrEqualTo:">=",PropertyIsNull:"=="},e}();t.SldStyleParser=u,t.default=u}}]);